@* Component for displaying cycle phase with color-coded badge *@

@if (CyclePhase.HasValue)
{
    <MudChip T="string"
             Size="Size.Small"
             Color="@GetPhaseColor()"
             Variant="Variant.Filled"
             aria-label="@GetPhaseAriaLabel()">
        @GetPhaseText()
    </MudChip>
}

@code {
    [Parameter]
    public int? CyclePhase { get; set; }

    private Color GetPhaseColor()
    {
        return CyclePhase switch
        {
            0 => Color.Error,      // Menstrual - Red
            1 => Color.Success,    // Follicular - Green
            2 => Color.Warning,    // Ovulatory - Yellow/Orange
            3 => Color.Info,       // Luteal - Blue
            _ => Color.Default
        };
    }

    private string GetPhaseText()
    {
        return CyclePhase switch
        {
            0 => "Menstrual",
            1 => "Follicular",
            2 => "Ovulatory",
            3 => "Luteal",
            _ => "Unknown"
        };
    }

    private string GetPhaseAriaLabel()
    {
        var phaseName = GetPhaseText();
        var description = CyclePhase switch
        {
            0 => "Low energy recovery phase",
            1 => "Rising energy building phase",
            2 => "Peak performance phase",
            3 => "Declining energy recovery phase",
            _ => "Cycle phase unknown"
        };

        return $"{phaseName} phase: {description}";
    }
}
